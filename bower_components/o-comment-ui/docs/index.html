<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width" charset="utf-8">
    <title>comment-ui</title>
    <link rel="stylesheet" href="http://getbootstrap.com/2.3.2/assets/css/bootstrap.css">
    <link rel="stylesheet" href="http://getbootstrap.com/2.3.2/assets/css/bootstrap-responsive.css">
    <link rel="stylesheet" href="http://getbootstrap.com/2.3.2/assets/css/docs.css">
    <style>
      body > .navbar .brand {
        float:left;
        text-shadow: rgba(255, 255, 255, 0.0980392) 0px 1px 0px, rgba(255, 255, 255, 0.4) 0px 0px 30px;
        color: white;
        margin-left:0px;
        font-weight:normal;
      }
      
      .bs-docs-sidenav.affix {
        box-shadow: 0 0 20px 1px rgba(0, 0, 0, 0.5);
        z-index: 10;
      }
      
      .bs-docs-sidenav i{
        width: 8px;
        height: 8px;
        padding: 0px;
        margin: 0px;
        display: inline-block;
        margin-right:0.5em;
      }
      
      .bs-docs-sidenav > li > a {
          word-wrap: break-word;
      }
      
      .bs-docs-sidenav > li:first-child > a {
        border-top-right-radius: 6px;
        border-top-left-radius: 6px;
      }
      
      code[class*="language-"],pre[class*="language-"]{color:black;text-shadow:0 1px white;font-family:Consolas,Monaco,'Andale Mono',monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*="language-"]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*="language-"],pre[class*="language-"]{background:#f5f2f0}:not(pre)>code[class*="language-"]{padding:.1em;border-radius:.3em}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:slategray}.token.punctuation{color:#999}.namespace{opacity:.7}.token.property,.token.tag,.token.boolean,.token.number{color:#905}.token.selector,.token.attr-name,.token.string{color:#690}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.regex,.token.important{color:#e90}.token.important{font-weight:bold}.token.entity{cursor:help}
      div.description {margin: 14px 0; padding-top: 14px; border-bottom:1px solid #eee; }
      .tags {}
      .ctx-type {
        display:inline-block;
        margin-right:0.5em;
        //- float:right; margin-top:8px
      }
      
      footer iframe{vertical-align:middle;}
      
    </style>
  </head>
  <body data-spy="scroll" data-target=".scrollspy">
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container"><a class="brand">Doxx</a>
          <div class="nav-collapse collapse">
            <ul class="nav pull-right sponsored"></ul>
          </div>
        </div>
      </div>
    </div>
    <header id="overview" class="jumbotron subhead">
      <div class="container">
        <h1>comment-ui</h1>
        <p class="lead"></p>
      </div>
    </header>
    <div class="container">
      <div class="row">
        <div class="span3 bs-docs-sidebar">
          <ul class="nav nav-list bs-docs-sidenav affix-top">
            <li class="active"><a href="index.html">Main</a></li>
            <li><a href="dialog\Dialog.js.html">dialog\Dialog.js</a></li>
            <li><a href="dialog\modal.js.html">dialog\modal.js</a></li>
            <li><a href="form_builder\Form.js.html">form_builder\Form.js</a></li>
            <li><a href="form_builder\formFragments.js.html">form_builder\formFragments.js</a></li>
            <li><a href="i18n.js.html">i18n.js</a></li>
            <li><a href="main.js.html">main.js</a></li>
            <li><a href="userDialogs.js.html">userDialogs.js</a></li>
            <li><a href="utils.js.html">utils.js</a></li>
            <li><a href="Widget.js.html">Widget.js</a></li>
            <li><a href="WidgetUi.js.html">WidgetUi.js</a></li>
          </ul>
          <div class="scrollspy">
            <ul class="nav nav-list bs-docs-sidenav affix-top">
            </ul>
          </div>
        </div>
        <div class="span9">
          <section id="Main"><h1 id="comment-ui">comment-ui</h1>
<p>JavaScript module which incorporates common UI elements of the FT commenting system like dialogs, forms, common parts of a commenting widget with DOM manipulation and a unified way to load it.</p>
<hr>
<h2 id="how-to-use-it">How to use it</h2>
<p>There are two ways of using this module:</p>
<h3 id="standalone">Standalone</h3>
<p>Run <code>grunt</code>, then insert the JS found in the dist folder:</p>
<pre><code class="lang-javascript">&lt;script src=&quot;dist/javascripts/commentUi.min.js&quot;&gt;&lt;/script&gt;</code></pre>
<p>The module&#39;s API can be accessed using <code>commentUi</code> in the global scope.</p>
<h3 id="bower-and-browserify">Bower and browserify</h3>
<p>With bower, simply require the module:</p>
<pre><code class="lang-javascript">var commentUi = require(&#39;comment-ui&#39;);</code></pre>
<p>The module should be built using <code>browserify</code> (with <code>debowerify</code> and <code>textrequireify</code> transforms).</p>
<hr>
<h2 id="logging">Logging</h2>
<p>Logging can be enabled for debugging purposes. It logs using the global &#39;console&#39; if available (if not, nothing happens and it degrades gracefully).<br>By default logging is disabled.</p>
<h6 id="enablelogging">enableLogging</h6>
<p>This method enables logging of the module.</p>
<h6 id="disablelogging">disableLogging</h6>
<p>This method disables logging of the module.</p>
<h6 id="setlogginglevel">setLoggingLevel</h6>
<p>This method sets the logging level. This could be a number from 0 to 4 (where 0 is debug, 4 is error), or a string from the available methods of &#39;console&#39; (debug, log, info, warn, error).<br>Default is 3 (warn).</p>
<hr>
<h2 id="integrated-submodules">Integrated submodules</h2>
<p>The submodules that are exposed are the following:</p>
<h3 id="widget">Widget</h3>
<p>Widget is responsible to coordinate getting initialization data, loading resources and initializing the Ui. While this class implements some of the basic functionality (handling errors, loading timeout), it should be extended by providing an implementation for getting the initialization data and loading the resources.</p>
<h4 id="constructor">Constructor</h4>
<pre><code class="lang-javascript">new commentUi.Widget(config);</code></pre>
<p>To create an instance, you need to provide a configuration object. This should have the following structure:</p>
<h5 id="mandatory-fields-">Mandatory fields:</h5>
<ul>
<li>elId: ID of the HTML element in which the widget should be loaded</li>
<li>articleId: ID of the article, any string</li>
<li>url: canonical URL of the page</li>
<li>title: Title of the page</li>
</ul>
<h5 id="optional-fields-">Optional fields:</h5>
<ul>
<li>timeout: Period of time after a timeout is triggered. Default is 15000 ms (15 sec). Its value should be given in milliseconds (ms).</li>
</ul>
<h4 id="example">Example</h4>
<pre><code class="lang-javascript">new commentUi.Widget({
    elId: &#39;container_id&#39;,
    articleId: &#39;e113c91c-10d9-11e4-812b-00144feabdc0&#39;,
    url: &#39;http://www.ft.com/cms/s/0/e113c91c-10d9-11e4-812b-00144feabdc0.html&#39;,
    title: &#39;Rolls-Royce seeks to catch-up with rivals on margins - FT.com&#39;
});</code></pre>
<h4 id="final-methods">Final methods</h4>
<h6 id="load">load</h6>
<p>This method will initiate the process of loading the resources that are needed to render the widget and the rendering of the UI. This method uses hook methods which are not implemented in this module, but should be implemented in the module that extends it.<br>Load will handle errors of the process of loading the widget, also timeout if an error is not clearly available.</p>
<p>This method can be called once (calling it multiple types will have no effect).</p>
<h4 id="abstract-methods-not-implemented-in-this-module-">Abstract methods (not implemented in this module)</h4>
<h6 id="init">init</h6>
<p>This method is responsible for gathering data that is needed to initialize the widget (e.g. metadata, site ID, comments, etc.).</p>
<h6 id="loadresources">loadResources</h6>
<p>This method is responsible for loading resources like JavaScript libraries, stylesheets.</p>
<h6 id="render">render</h6>
<p>This method is responsible for rendering the UI of the widget on the page. Render is called when the initialization process is done and all resources are loaded.<br>This method is called using the data gathered during the init process:</p>
<pre><code class="lang-javascript">render(initData);</code></pre>
<h4 id="methods-that-can-be-overriden-they-have-default-implementation-">Methods that can be overriden (they have default implementation)</h4>
<h6 id="onerror">onError</h6>
<p>This method is responsible to handle any error that appears during the initialization.</p>
<pre><code class="lang-javascript">onError(errorObject);</code></pre>
<p>The default implementation clears out the container of the widget and shows the unavailable message template (available using the template object).</p>
<h6 id="ontimeout">onTimeout</h6>
<p>This method is responsible to handle the case when within a given time the loading isn&#39;t finished and no error appeared.</p>
<p>The default implementation clears out the container of the widget and shows the unavailable message template (available using the template object).</p>
<h4 id="extend">Extend</h4>
<p>Extending of Widget can be done in the following way:</p>
<pre><code class="lang-javascript">var WidgetExtend = function () {
    commentUi.Widget.apply(this, arguments);
}
commentUi.Widget.extend(WidgetExtend);</code></pre>
<hr>
<h3 id="widgetui">WidgetUi</h3>
<p>This class is responsible to handle the UI part of a commenting widget. An instance of this is created within an instance of the <code>Widget</code>.<br>While this implementation has predefined methods, it can be extended with particular UI methods.</p>
<h4 id="constructor">Constructor</h4>
<pre><code class="lang-javascript">new commentUi.WidgetUi(widgetContainer);</code></pre>
<p>Where <code>widgetContainer</code> should be a DOM element in which the widget is loaded.</p>
<h4 id="methods">Methods</h4>
<h6 id="scrolltowidget">scrollToWidget</h6>
<p>Scrolls the page to the widget. A callback function is called when the scroll finished (optional).</p>
<h6 id="addnotavailablemessage">addNotAvailableMessage</h6>
<p>Inserts message when comments is not available, either because of the web services or Livefyre.</p>
<h6 id="clearcontainer">clearContainer</h6>
<p>Clears the container&#39;s content.</p>
<h4 id="extend">Extend</h4>
<p>Extending of Widget can be done in the following way:</p>
<pre><code class="lang-javascript">var WidgetUiExtend = function () {
    commentUi.WidgetUi.apply(this, arguments);
}
commentUi.WidgetUi.extend(WidgetUiExtend);</code></pre>
<hr>
<h3 id="userdialogs">userDialogs</h3>
<p>Generic Ui functionality which is common across all istances of the comments. These are mostly dialogs which show on the page and are unrelated of the Widget&#39;s container or widget instance.</p>
<h4 id="methods">Methods</h4>
<h6 id="showsetpseudonymdialog">showSetPseudonymDialog</h6>
<p>Shows a dialog for setting the initial pseudonym (shown when the user doesn&#39;t have a pseudonym set).</p>
<pre><code class="lang-javascript">commentUi.userDialogs.showSetPseudonymDialog({
    submit: function (formData, callback) {
        // called when the form is submitted
    },
    close: function () {
        // called when the dialog is closed by a user action
    }
});</code></pre>
<h6 id="showsettingsdialog">showSettingsDialog</h6>
<p>Settings dialog where the user can change its pseudonym or email preferences.</p>
<pre><code class="lang-javascript">commentUi.userDialogs.showSettingsDialog({
        displayName: &#39;currentPseudonym&#39;,
        settings: {
            emaillikes: &#39;never&#39;
        }
    },
    {
        submit: function (formData, callback) {
            // called when the form is submitted
        },
        close: function () {
            // called when the dialog is closed by a user action
        }
    });</code></pre>
<h6 id="showemailalertdialog">showEmailAlertDialog</h6>
<p>Shows a dialog which reminds the user to save its email preferences if he/she didn&#39;t do so.</p>
<pre><code class="lang-javascript">commentUi.userDialogs.showEmailAlertDialog({
    submit: function (formData, callback) {
        // called when the form is submitted
    },
    close: function () {
        // called when the dialog is closed by a user action
    }
});</code></pre>
<h6 id="showinactivitymessage">showInactivityMessage</h6>
<p>Shows a dialog with a sign in link to re-login after a session expire.</p>
<pre><code class="lang-javascript">commentUi.userDialogs.showInactivityMessage({
    submit: function (formData, callback) {
        // called when the form is submitted
    },
    close: function () {
        // called when the dialog is closed by a user action
    }
});</code></pre>
<h3 id="parameters">Parameters</h3>
<p>All functions has the same callback parameter structure, which should be an object with the following fields:</p>
<h6 id="submit">submit</h6>
<p><strong>Required.</strong> Function that is called when the form is submitted. As parameters the form data is provided (serialized into an object of key-value pairs), and a callback which should be called with either an error message (if an error occurred) or without parameters if submission is successful.<br>Example:</p>
<pre><code class="lang-javascript">callbacks.submit({
    formKey: &#39;formValue&#39;
}, function (err) {
    if (err) {
        // show the error message, leave the dialog open
        return;
    }

    // success, close the dialog
}
});</code></pre>
<h6 id="close">close</h6>
<p>Optional. Function that is called when the dialog is closed.</p>
<hr>
<h3 id="dialog-dialog">dialog.Dialog</h3>
<p>Dialog built within the DOM with custom content. Can be opened either with modal background or without it.</p>
<h4 id="constructor">Constructor</h4>
<pre><code class="lang-javascript">new commentUi.dialog.Dialog(htmlOrForm, userOptions)</code></pre>
<p>Where:</p>
<ul>
<li>htmlOrForm: plain HTML that is embedded within the dialog, or an instance of <code>form.Form</code>.</li>
<li><p>userOptions: object with the following optional fields:</p>
<ul>
<li>modal: whether a modal overlay should be displayed or not. Default is true.</li>
<li>title: Title of the dialog</li>
</ul>
</li>
</ul>
<h4 id="methods">Methods</h4>
<h6 id="on">on</h6>
<p>Listen to events. The only available event within the module is &#39;close&#39;.</p>
<h6 id="off">off</h6>
<p>Removes the event listeners.</p>
<h6 id="open">open</h6>
<p>Opens the dialog. This will render the HTML and will embed at the end of the <code>&lt;body&gt;</code> element.</p>
<h6 id="close">close</h6>
<p>Closes the dialog and removes any HTML created and insterted in the <code>&lt;body&gt;</code> element.</p>
<h6 id="show">show</h6>
<p>Shows the dialog if it was already opened but is in a hidden state.</p>
<h6 id="hide">hide</h6>
<p>Hides an already opened dialog without removing the HTML from the <code>&lt;body&gt;</code> element.</p>
<h6 id="enablebuttons">enableButtons</h6>
<p>Enables the buttons by removing the disable attributes.</p>
<h6 id="disablebuttons">disableButtons</h6>
<p>Disables the buttons by adding disable attributes.</p>
<h6 id="getcontainer">getContainer</h6>
<p>Returns the container HTML element.</p>
<hr>
<h3 id="dialog-modal">dialog.modal</h3>
<p>Creates a modal overlay background which masks the whole page.</p>
<h4 id="methods">Methods</h4>
<h6 id="open">open</h6>
<p>Creates the HTML needed and inserts as the last element in the <body>.</p>
<h6 id="close">close</h6>
<p>Closes the modal and removes the HTML created.</p>
<h6 id="on">on</h6>
<p>Listen to events. The only available event is &#39;click&#39;.</p>
<h6 id="off">off</h6>
<p>Remove the listeners.</p>
<hr>
<h3 id="formbuilder-form">formBuilder.Form</h3>
<p>Form is a helper for creating a form. It handles constructing the form element, generating buttons, forwarding submit and cancel events.</p>
<h4 id="constructor">Constructor</h4>
<pre><code class="lang-javascript">new Form(config);</code></pre>
<p>Where config should have the following structure:</p>
<pre><code class="lang-javascript">{
    name: &#39;name of the form element&#39;,
    method: &#39;method of the form element&#39;,
    action: &#39;action of the form element&#39;,
    items: [
        &#39;any html string&#39;,
        {
            type: &#39;a type of an existing form fragment&#39;,
            config1: &#39;any config properties which are used by the form fragment&#39;
        }
    ],
    buttons: [
        {
            type: &#39;button|submitButton|cancelButton|dismiss&#39;,
            label: &#39;label of the button/dismiss checkbox&#39;
        }
    ]
}</code></pre>
<h4 id="methods">Methods</h4>
<h6 id="on">on</h6>
<p>Listen on submit/cancel events.</p>
<h6 id="off">off</h6>
<p>Remove listeners.</p>
<h6 id="render">render</h6>
<p>Returns an HTML fragment of the form built using the initialization parameters.<br>The response of this method can be used in the native <code>appendChild</code> function.</p>
<h6 id="serialize">serialize</h6>
<p>Returns the data of the form in a JSON format.</p>
<h6 id="showerror">showError</h6>
<p>Shows an error within the form.</p>
<h6 id="clearerror">clearError</h6>
<p>Clears the error messages.</p>
<h3 id="formbuild-formfragments">formBuild.formFragments</h3>
<p>This helper module contains predefined form fragments that can be used within a Form instance.</p>
<h4 id="methods">Methods</h4>
<h6 id="initialpseudonym">initialPseudonym</h6>
<p>Form fragment for setting the initial pseudonym.</p>
<h6 id="changepseudonym">changePseudonym</h6>
<p>Form fragment for changing an existing pseudonym.</p>
<h6 id="emailsettings">emailSettings</h6>
<p>Form fragment for changing the email preferences.</p>
<h6 id="emailsettingsstandalone">emailSettingsStandalone</h6>
<p>Form fragment for the email alert dialog where email settings is the only fragment that is shown.</p>
<h6 id="followexplanation">followExplanation</h6>
<p>Explanation of the Follow functionality with images.</p>
<h6 id="commentingsettingsexplanation">commentingSettingsExplanation</h6>
<p>Explanation of changing the settings with images.</p>
<h6 id="sessionexpired">sessionExpired</h6>
<p>Session expired fragment with sign in link.</p>
<hr>
<h3 id="templates">templates</h3>
<p>This contains common Mustache templates which are compiled and can be rendered with custom data.</p>
<p>Templates that are available:</p>
<h6 id="unavailabletemplate">unavailableTemplate</h6>
<p>Message that appears when an error occured or loading the widget takes longer than the timeout period. It has a default style added.</p>
<p>Parameters:</p>
<ul>
<li>message: message to show. By default i18n.unavailable is used to render within the WidgetUi.</li>
</ul>
<h6 id="termsandguidelinestemplate">termsAndGuidelinesTemplate</h6>
<p>Terms and guidelines message with default style.<br>Requires no parameters to render.</p>
<h6 id="commentingsettingslink">commentingSettingsLink</h6>
<p>Link that is used for changing user settings.</p>
<p>Parameters:</p>
<ul>
<li>label: Label of the link. i18n.commentingSettings can be used for it.</li>
</ul>
<h6 id="clearline">clearLine</h6>
<p>Clearfix. Separates rows horizontally that have float.</p>
<p>These templates can be overriden on a global level.</p>
<hr>
<h3 id="i18n">i18n</h3>
<p>i18n is responsible to provide common messages/texts that are used within the commenting application.</p>
<p>It exposes the following objects:</p>
<h6 id="texts">texts</h6>
<p>Contains generic messages:</p>
<ul>
<li>unavailable: Message that is shown when the widget is unavailable</li>
<li>changePseudonymError: Generic error when changing the pseudonym fails and no error message is coming from the server.</li>
<li>genericError: Generic error message.</li>
<li>commetingSettings: label of the commenting settings link &quot;Commenting settings&quot;.</li>
</ul>
<h6 id="servicemessageoverrides">serviceMessageOverrides</h6>
<p>Some error messages that come from the web services are not very user friendly. These messages are mapped to more user friendly versions that can be shown to the user.</p>
</section>
        </div>
      </div>
    </div>
    <footer class="footer">
      <div class="container">
        <p>Documentation generated with<a href="https://github.com/FGRibreau/doxx">Doxx</a>created by<a href="https://twitter.com/FGRibreau" data-show-count="false" class="twitter-follow-button">Francois-Guillaume Ribreau</a></p>
        <p>Doxx is sponsored by<a href="http://bringr.net/?btt" title="Outil d'analyse des rÃ©seaux sociaux" class="bringr">Bringr</a>and<a href="https://redsmin.com/?btt" title="Full Redis GUI" class="redsmin">Redsmin</a></p>
        <p>Theme borrowed from Twitter Bootstrap</p>
      </div>
    </footer>
    <script src="http://platform.twitter.com/widgets.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
    <script src="http://leaverou.github.com/prefixfree/prefixfree.js"></script>
    <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-transition.js"></script>
    <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-scrollspy.js"></script>
    <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-dropdown.js"></script>
    <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-collapse.js"></script>
    <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-affix.js"></script>
    <script>
      /**
       * Prism: Lightweight, robust, elegant syntax highlighting
       * MIT license http://www.opensource.org/licenses/mit-license.php/
       * @author Lea Verou http://lea.verou.me
       */(function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=self.Prism={util:{type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){var n=t.util.type(e);switch(n){case"Object":var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=t.util.clone(e[i]));return r;case"Array":return e.slice()}return e}},languages:{extend:function(e,n){var r=t.util.clone(t.languages[e]);for(var i in n)r[i]=n[i];return r},insertBefore:function(e,n,r,i){i=i||t.languages;var s=i[e],o={};for(var u in s)if(s.hasOwnProperty(u)){if(u==n)for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);o[u]=s[u]}return i[e]=o},DFS:function(e,n){for(var r in e){n.call(e,r,e[r]);t.util.type(e)==="Object"&&t.languages.DFS(e[r],n)}}},highlightAll:function(e,n){var r=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code');for(var i=0,s;s=r[i++];)t.highlightElement(s,e===!0,n)},highlightElement:function(r,i,s){var o,u,a=r;while(a&&!e.test(a.className))a=a.parentNode;if(a){o=(a.className.match(e)||[,""])[1];u=t.languages[o]}if(!u)return;r.className=r.className.replace(e,"").replace(/\s+/g," ")+" language-"+o;a=r.parentNode;/pre/i.test(a.nodeName)&&(a.className=a.className.replace(e,"").replace(/\s+/g," ")+" language-"+o);var f=r.textContent;if(!f)return;f=f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00a0/g," ");var l={element:r,language:o,grammar:u,code:f};t.hooks.run("before-highlight",l);if(i&&self.Worker){var c=new Worker(t.filename);c.onmessage=function(e){l.highlightedCode=n.stringify(JSON.parse(e.data));l.element.innerHTML=l.highlightedCode;s&&s.call(l.element);t.hooks.run("after-highlight",l)};c.postMessage(JSON.stringify({language:l.language,code:l.code}))}else{l.highlightedCode=t.highlight(l.code,l.grammar);l.element.innerHTML=l.highlightedCode;s&&s.call(r);t.hooks.run("after-highlight",l)}},highlight:function(e,r){return n.stringify(t.tokenize(e,r))},tokenize:function(e,n){var r=t.Token,i=[e],s=n.rest;if(s){for(var o in s)n[o]=s[o];delete n.rest}e:for(var o in n){if(!n.hasOwnProperty(o)||!n[o])continue;var u=n[o],a=u.inside,f=!!u.lookbehind||0;u=u.pattern||u;for(var l=0;l<i.length;l++){var c=i[l];if(i.length>e.length)break e;if(c instanceof r)continue;u.lastIndex=0;var h=u.exec(c);if(h){f&&(f=h[1].length);var p=h.index-1+f,h=h[0].slice(f),d=h.length,v=p+d,m=c.slice(0,p+1),g=c.slice(v+1),y=[l,1];m&&y.push(m);var b=new r(o,a?t.tokenize(h,a):h);y.push(b);g&&y.push(g);Array.prototype.splice.apply(i,y)}}}return i},hooks:{all:{},add:function(e,n){var r=t.hooks.all;r[e]=r[e]||[];r[e].push(n)},run:function(e,n){var r=t.hooks.all[e];if(!r||!r.length)return;for(var i=0,s;s=r[i++];)s(n)}}},n=t.Token=function(e,t){this.type=e;this.content=t};n.stringify=function(e){if(typeof e=="string")return e;if(Object.prototype.toString.call(e)=="[object Array]"){for(var r=0;r<e.length;r++)e[r]=n.stringify(e[r]);return e.join("")}var i={type:e.type,content:n.stringify(e.content),tag:"span",classes:["token",e.type],attributes:{}};i.type=="comment"&&(i.attributes.spellcheck="true");t.hooks.run("wrap",i);var s="";for(var o in i.attributes)s+=o+'="'+(i.attributes[o]||"")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'" '+s+">"+i.content+"</"+i.tag+">"};if(!self.document){self.addEventListener("message",function(e){var n=JSON.parse(e.data),r=n.language,i=n.code;self.postMessage(JSON.stringify(t.tokenize(i,t.languages[r])));self.close()},!1);return}var r=document.getElementsByTagName("script");r=r[r.length-1];if(r){t.filename=r.src;document.addEventListener&&!r.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll)}})();;
      Prism.languages.markup={comment:/&lt;!--[\w\W]*?--(&gt;|&gt;)/g,prolog:/&lt;\?.+?\?&gt;/,doctype:/&lt;!DOCTYPE.+?&gt;/,cdata:/&lt;!\[CDATA\[[\w\W]+?]]&gt;/i,tag:{pattern:/&lt;\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|\w+))?\s*)*\/?&gt;/gi,inside:{tag:{pattern:/^&lt;\/?[\w:-]+/i,inside:{punctuation:/^&lt;\/?/,namespace:/^[\w-]+?:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,inside:{punctuation:/=|&gt;|"/g}},punctuation:/\/?&gt;/g,"attr-name":{pattern:/[\w:-]+/g,inside:{namespace:/^[\w-]+?:/}}}},entity:/&amp;#?[\da-z]{1,8};/gi};Prism.hooks.add("wrap",function(e){e.type==="entity"&&(e.attributes.title=e.content.replace(/&amp;/,"&"))});;
      Prism.languages.css={comment:/\/\*[\w\W]*?\*\//g,atrule:/@[\w-]+?(\s+[^;{]+)?(?=\s*{|\s*;)/gi,url:/url\((["']?).*?\1\)/gi,selector:/[^\{\}\s][^\{\}]*(?=\s*\{)/g,property:/(\b|\B)[a-z-]+(?=\s*:)/ig,string:/("|')(\\?.)*?\1/g,important:/\B!important\b/gi,ignore:/&(lt|gt|amp);/gi,punctuation:/[\{\};:]/g};Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{style:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/style(>|&gt;)/ig,inside:{tag:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)|(&lt;|<)\/style(>|&gt;)/ig,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css}}});;
      Prism.languages.clike={comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|\/\/.*?(\r?\n|$))/g,lookbehind:!0},string:/("|')(\\?.)*?\1/g,keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,number:/\b-?(0x)?\d*\.?[\da-f]+\b/g,operator:/[-+]{1,2}|!|=?&lt;|=?&gt;|={1,2}|(&amp;){1,2}|\|?\||\?|\*|\//g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g};;
      Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(var|let|if|else|while|do|for|return|in|instanceof|function|new|with|typeof|try|catch|finally|null|break|continue)\b/g,number:/\b(-?(0x)?\d*\.?[\da-f]+|NaN|-?Infinity)\b/g});Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}});Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/script(>|&gt;)/ig,inside:{tag:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)|(&lt;|<)\/script(>|&gt;)/ig,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript}}});;
      
    </script>
    <!-- App js-->
    <script>
      $(function(){
        var $window = $(window);
        $('.scrollspy .nav').affix({
          offset: {
            top: function () { return $window.width() <= 980 ? 480 : 400 }
          , bottom: 50
          }
        });
      })
    </script>
  </body>
</html>