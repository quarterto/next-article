<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width" charset="utf-8">
    <title>o-comments-data</title>
    <link rel="stylesheet" href="http://getbootstrap.com/2.3.2/assets/css/bootstrap.css">
    <link rel="stylesheet" href="http://getbootstrap.com/2.3.2/assets/css/bootstrap-responsive.css">
    <link rel="stylesheet" href="http://getbootstrap.com/2.3.2/assets/css/docs.css">
    <style>
      body > .navbar .brand {
        float:left;
        text-shadow: rgba(255, 255, 255, 0.0980392) 0px 1px 0px, rgba(255, 255, 255, 0.4) 0px 0px 30px;
        color: white;
        margin-left:0px;
        font-weight:normal;
      }
      
      .bs-docs-sidenav.affix {
        box-shadow: 0 0 20px 1px rgba(0, 0, 0, 0.5);
        z-index: 10;
      }
      
      .bs-docs-sidenav i{
        width: 8px;
        height: 8px;
        padding: 0px;
        margin: 0px;
        display: inline-block;
        margin-right:0.5em;
      }
      
      .bs-docs-sidenav > li > a {
          word-wrap: break-word;
      }
      
      .bs-docs-sidenav > li:first-child > a {
        border-top-right-radius: 6px;
        border-top-left-radius: 6px;
      }
      
      code[class*="language-"],pre[class*="language-"]{color:black;text-shadow:0 1px white;font-family:Consolas,Monaco,'Andale Mono',monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*="language-"]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*="language-"],pre[class*="language-"]{background:#f5f2f0}:not(pre)>code[class*="language-"]{padding:.1em;border-radius:.3em}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:slategray}.token.punctuation{color:#999}.namespace{opacity:.7}.token.property,.token.tag,.token.boolean,.token.number{color:#905}.token.selector,.token.attr-name,.token.string{color:#690}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.regex,.token.important{color:#e90}.token.important{font-weight:bold}.token.entity{cursor:help}
      div.description {margin: 14px 0; padding-top: 14px; border-bottom:1px solid #eee; }
      .tags {}
      .ctx-type {
        display:inline-block;
        margin-right:0.5em;
        //- float:right; margin-top:8px
      }
      
      footer iframe{vertical-align:middle;}
      
    </style>
  </head>
  <body data-spy="scroll" data-target=".scrollspy">
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container"><a class="brand">Doxx</a>
          <div class="nav-collapse collapse">
            <ul class="nav pull-right sponsored"></ul>
          </div>
        </div>
      </div>
    </div>
    <header id="overview" class="jumbotron subhead">
      <div class="container">
        <h1>o-comments-data</h1>
        <p class="lead"></p>
      </div>
    </header>
    <div class="container">
      <div class="row">
        <div class="span3 bs-docs-sidebar">
          <ul class="nav nav-list bs-docs-sidenav affix-top">
            <li class="active"><a href="index.html">Main</a></li>
            <li><a href="cache.js.html">cache.js</a></li>
            <li><a href="ccs.js.html">ccs.js</a></li>
            <li><a href="config.js.html">config.js</a></li>
            <li><a href="main.js.html">main.js</a></li>
            <li><a href="request.js.html">request.js</a></li>
            <li><a href="stream.js.html">stream.js</a></li>
            <li><a href="suds.js.html">suds.js</a></li>
            <li><a href="utils.js.html">utils.js</a></li>
          </ul>
          <div class="scrollspy">
            <ul class="nav nav-list bs-docs-sidenav affix-top">
            </ul>
          </div>
        </div>
        <div class="span9">
          <section id="Main"><h1 id="o-comment-data">o-comment-data</h1>
<p>A JavaScript API that provides a simple abstraction of the FT&#39;s commenting APIs.</p>
<p>This modules uses:</p>
<ul>
<li>Session User Data Service (SUDS) - Provides the authentication and metadata required to create and use Livefyre comment collections. Also allows a user&#39;s preferences to be modified</li>
<li>Comment Creation Service (CCS) - Allows the creation and retrieval of comments for FT content</li>
</ul>
<hr>
<h2 id="how-to-use-it">How to use it</h2>
<p>There are two ways of using this module:</p>
<h3 id="standalone">Standalone</h3>
<p>Run <code>grunt</code>, then insert the JS found in the dist folder:</p>
<pre><code class="lang-javascript">&lt;script src=&quot;dist/javascripts/oCommentData.min.js&quot;&gt;&lt;/script&gt;</code></pre>
<p>The module&#39;s API can be accessed using <code>oCommentData</code> in the global scope.</p>
<h3 id="bower-and-browserify">Bower and browserify</h3>
<p>With bower, simply require the module:</p>
<pre><code class="lang-javascript">var oCommentData = require(&#39;o-comment-data&#39;);</code></pre>
<p>The module should be built using <code>browserify</code> (with <code>debowerify</code> transform).</p>
<hr>
<h2 id="configuration">Configuration</h2>
<p><strong>The methods which are meant to configure the module are the following:</strong></p>
<h3 id="init">init</h3>
<p>This method is responsible for changing the default configuration used by this module. Calling this method with an object will merge the default configuration with the object specified (deep merge, primitive type values of the same key will be overwritten).</p>
<h5 id="default-configuration">Default configuration</h5>
<pre><code class="lang-javascript">{
    &quot;suds&quot;: {
        &quot;baseUrl&quot;: &quot;http://session-user-data.webservices.ft.com&quot;,
        &quot;endpoints&quot;: {
            &quot;livefyre&quot;: {
                &quot;init&quot;: &quot;/v1/livefyre/init&quot;,
            },
            &quot;user&quot;: {
                &quot;updateUser&quot;: &quot;/v1/user/updateuser&quot;,
                &quot;getAuth&quot;: &quot;/v1/user/getauth&quot;
            }
        }
    },
    &quot;ccs&quot;: {
        &quot;baseUrl&quot;: &quot;http://comment-creation-service.webservices.ft.com&quot;,
        &quot;endpoints&quot;: {
            &quot;getComments&quot;: &quot;/v1/getComments&quot;,
            &quot;postComment&quot;: &quot;/v1/postComment&quot;
        }
    },
    &quot;cacheConfig&quot;: {
        &quot;authBaseName&quot;: &quot;comments-prod-auth-&quot;,
        &quot;initBaseName&quot;: &quot;comments-prod-init-&quot;
    }
}</code></pre>
<h5 id="change-the-environment">Change the environment</h5>
<p>In order to change to the TEST environment, use the following code:</p>
<pre><code class="lang-javascript">oCommentsData.init({
    &quot;suds&quot;: {
        &quot;baseUrl&quot;: &quot;http://test.session-user-data.webservices.ft.com&quot;
    },
    &quot;ccs&quot;: {
        &quot;baseUrl&quot;: &quot;http://test.comment-creation-service.webservices.ft.com&quot;
    },
    &quot;cacheConfig&quot;: {
        &quot;authBaseName&quot;: &quot;comments-test-auth-&quot;,
        &quot;initBaseName&quot;: &quot;comments-test-init-&quot;
    }
});</code></pre>
<hr>
<h2 id="caching">Caching</h2>
<h3 id="enable-caching">Enable caching</h3>
<p>In order to enable caching within the module, you should set some module level configuration:</p>
<p>Example:</p>
<pre><code class="lang-javascript">oCommentsData.init({
    &quot;cache&quot;: true,
    &quot;sessionId&quot;: 15231
});</code></pre>
<p>Where <code>sessionId</code> is a unique identifier of the current user&#39;s session (e.g. JSESSIONID for Java systems, PHPSESSID for PHP systems, etc.).</p>
<h3 id="clear-the-cache">Clear the cache</h3>
<p>The cache layer uses sessionStorage API to store data. While this is cleared automatically each time the browser is closed, there could be some situations the cache should be cleared explicity.</p>
<p>The cache layer provides a public clear method which will delete all o-comments-data related cache entries from the sessionStorage.</p>
<pre><code class="lang-javascript">oCommentsData.cache.clear();</code></pre>
<hr>
<h2 id="logging">Logging</h2>
<p>Logging can be enabled for debugging purposes. It logs using the global &#39;console&#39; if available (if not, nothing happens and it degrades gracefully).<br>By default logging is disabled.</p>
<h3 id="enablelogging">enableLogging</h3>
<p>This method enables logging of the module.</p>
<h3 id="disablelogging">disableLogging</h3>
<p>This method disables logging of the module.</p>
<h3 id="setlogginglevel">setLoggingLevel</h3>
<p>This method sets the logging level. This could be a number from 0 to 4 (where 0 is debug, 4 is error), or a string from the available methods of &#39;console&#39; (debug, log, info, warn, error).<br>Default is 3 (warn).</p>
<hr>
<h2 id="api">API</h2>
<h3 id="api-getlivefyreinitconfig">api.getLivefyreInitConfig</h3>
<p>This method communicates directly with the &#39;livefyre/init&#39; endpoint of SUDS. It accepts a configuration object and a callback as paramaters. A Livefyre object is passed into the callback (both init and auth fields).</p>
<h5 id="configuration">Configuration</h5>
<h6 id="mandatory-fields-">Mandatory fields:</h6>
<ul>
<li>elId: ID of the HTML element in which the widget should be loaded</li>
<li>articleId: ID of the article, any string</li>
<li>url: canonical URL of the page</li>
<li>title: Title of the page</li>
</ul>
<h6 id="optional-fields-">Optional fields:</h6>
<ul>
<li>stream_type: livecomments, livechat, liveblog</li>
<li>force: has effect in combination with cache enabled. If force set to true, the data won&#39;t be readed from the cache even if a valid entry exists, but it will force the call to the webservice to happen.</li>
</ul>
<h5 id="example">Example</h5>
<pre><code class="lang-javascript">oCommentsData.api.init({
    elId: &#39;dom-id&#39;,
    articleId: &#39;art15123&#39;,
    url: &#39;http://example.com/article/art15123&#39;,
    title: &#39;Article title&#39;
}, function (err, data) {
    if (err) {
        throw err;
    }

    // do something with the data
});</code></pre>
<h5 id="sample-response">Sample response</h5>
<p>Successful request:</p>
<pre><code class="lang-javascript">{
    &quot;init&quot;: {
        &quot;app&quot;: &quot;main&quot;,
        &quot;articleId&quot;: &quot;4ec7810a-797f-11e1-8fad-00144feab49a&quot;,
        &quot;el&quot;: &quot;livefyre-app-ft-4ec7810a-797f-11e1-8fad-00144feab49a&quot;,
        &quot;siteId&quot;: &quot;304428&quot;,
        &quot;collectionMeta&quot;: &quot;eyJhbGciOiJIUzI1NiJ9.eyJjaGVja3N1bSI6ImYyYjViZDgyNjIxMWQ1ZDg4ZmI1ZjllYWUyZTI1NDcxIiwiYXJ0aWNsZUlkIjoiNGVjNzgxMGEtNzk3Zi0xMWUxLThmYWQtMDAxNDRmZWFiNDlhIiwidGl0bGUiOiJMaXZlZnlyZSB0ZXN0IHBhZ2UgLSBGVC5jb20iLCJ1cmwiOiJodHRwOi8vd3d3LmZ0LmNvbS9jbXMvcy8wLzRlYzc4MTBhLTc5N2YtMTFlMS04ZmFkLTAwMTQ0ZmVhYjQ5YS5odG1sIiwidHlwZSI6ImxpdmVjb21tZW50cyIsInN0cmVhbV90eXBlIjoibGl2ZWNvbW1lbnRzIiwidGFncyI6WyJzZWN0aW9ucy5Db21wYW5pZXMiLCJzZWN0aW9ucy5GaW5hbmNpYWxzIiwic2VjdGlvbnMuRmluYW5jaWFsIFNlcnZpY2VzIiwic2VjdGlvbnMuVVMgXHUwMDI2IENhbmFkaWFuIENvbXBhbmllcyJdfQ.VexpwSe72aPB-CEDxiyFT4QDjFEh3PGHgkkVjiHXhXY&quot;,
        &quot;checksum&quot;: &quot;f2b5bd826211d5d88fb5f9eae2e25471&quot;,
        &quot;disableAvatars&quot;:true
    },
    &quot;auth&quot;: {
        &quot;token&quot;: &quot;eyJhbGciOiJIUzI1NiJ9.eyJkb21haW4iOiJmdC1pbnQtMC5meXJlLmNvIiwiZXhwaXJlcyI6MTQwMTgxMDI3NDI2MywidXNlcl9pZCI6Ijg5NDg3NDM5IiwiZGlzcGxheV9uYW1lIjoicm9saSJ9.u2ko_UkQkkFwL20RvfMnGmi9ZPXxsnUuxWH5MnAoeyI&quot;,
        &quot;expires&quot;: 1401810274263,
        &quot;displayName&quot;: &quot;pseudonym&quot;,
        &quot;settings&quot;: {
            &quot;emailcomments&quot;: &quot;hourly&quot;
            &quot;emailreplies&quot;: &quot;immediately&quot;
            &quot;emaillikes&quot;: &quot;never&quot;
            &quot;emailautofollow&quot;: &quot;off&quot;
        }
    }
}</code></pre>
<p>The article based on the articleId and the article&#39;s metadata cannot be classified into an internal site (section) of Livefyre:</p>
<pre><code class="lang-javascript">{
    &quot;init&quot;: {
        &quot;unclassifiedArticle&quot;: true
    }
}</code></pre>
<p><strong>For examples of the auth object please see the <code>getUserData</code> method.</strong></p>
<p>For more information on the possible init fields of Livefyre, please visit: <a href="http://docs.livefyre.com/developers/reference/livefyre-js/#conv-config-object">http://docs.livefyre.com/developers/reference/livefyre-js/#conv-config-object</a></p>
<p>For more information on auth tokens, please visit: <a href="http://docs.livefyre.com/developers/user-auth/remote-profiles/">http://docs.livefyre.com/developers/user-auth/remote-profiles/</a> and <a href="http://docs.livefyre.com/developers/getting-started/tokens/auth/">http://docs.livefyre.com/developers/getting-started/tokens/auth/</a></p>
<p>For more information on user settings, please visit: <a href="http://docs.livefyre.com/product/features/user-options/email-notifications/#UserEmailOptions">http://docs.livefyre.com/product/features/user-options/email-notifications/#UserEmailOptions</a> and <a href="http://docs.livefyre.com/developers/user-auth/remote-profiles/#ping-for-pull">http://docs.livefyre.com/developers/user-auth/remote-profiles/#ping-for-pull</a></p>
<h3 id="api-getuserdata">api.getUserData</h3>
<p>This method gets the authentication data and user settings. This data is needed for actions that require the user to be authenticated.</p>
<h5 id="configuration">Configuration</h5>
<h6 id="optional-fields-">Optional fields:</h6>
<ul>
<li>force: has effect in combination with cache enabled. If force set to true, the data won&#39;t be readed from the cache even if a valid entry exists, but it will force the call to the webservice to happen.</li>
</ul>
<h5 id="example">Example</h5>
<p>Normal access, without forcing:</p>
<pre><code class="lang-javascript">oCommentsData.api.getAuth(function (err, data) {
    if (err) {
        throw err;
    }

    // do something with the data
});</code></pre>
<p>With force set to true:</p>
<pre><code class="lang-javascript">oCommentsData.api.getAuth({
    force: true
},
function (err, data) {
    if (err) {
        throw err;
    }

    // do something with the data
});</code></pre>
<h5 id="sample-response">Sample response</h5>
<p>User is logged in, successful request:</p>
<pre><code class="lang-javascript">{
    &quot;token&quot;: &quot;eyJhbGciOiJIUzI1NiJ9.eyJkb21haW4iOiJmdC1pbnQtMC5meXJlLmNvIiwiZXhwaXJlcyI6MTQwMTgxMDI3NDI2MywidXNlcl9pZCI6Ijg5NDg3NDM5IiwiZGlzcGxheV9uYW1lIjoicm9saSJ9.u2ko_UkQkkFwL20RvfMnGmi9ZPXxsnUuxWH5MnAoeyI&quot;,
    &quot;expires&quot;: 1401810274263,
    &quot;displayName&quot;: &quot;pseudonym&quot;,
    &quot;settings&quot;: {
        &quot;emailcomments&quot;: &quot;hourly&quot;
        &quot;emailreplies&quot;: &quot;immediately&quot;
        &quot;emaillikes&quot;: &quot;never&quot;
        &quot;emailautofollow&quot;: &quot;off&quot;
    }
}</code></pre>
<p>User is not logged in or the user&#39;s session is expired:</p>
<pre><code class="lang-javascript">null</code></pre>
<p>User is logged in, but doesn&#39;t have a pseudonym set:</p>
<pre><code class="lang-javascript">{
    pseudonym: false
}</code></pre>
<p>The authentication service that SUDS is using is down:</p>
<pre><code class="lang-javascript">{
    serviceUp: false
}</code></pre>
<h3 id="api-updateuser">api.updateUser</h3>
<p>Updates the user&#39;s details in both Livefyre and FT Membership systems (DAM).</p>
<h5 id="data-needed">Data needed</h5>
<ul>
<li>pseudonym: user&#39;s display name. This name is displayed on each comment the user posts.</li>
<li>emailcomments, emailreplies, emaillikes: available values that this service uses: &#39;never&#39;, &#39;immediately&#39;, &#39;hourly&#39;.</li>
<li>emailautofollow: available values: &#39;on&#39; and &#39;off&#39;.</li>
</ul>
<p>For more details on the email options visit <a href="http://answers.livefyre.com/product/features/user-options/email-notifications/#UserEmailOptions">http://answers.livefyre.com/product/features/user-options/email-notifications/#UserEmailOptions</a></p>
<p>All fields are optional, but there should be provided at least one.</p>
<h5 id="example">Example</h5>
<pre><code class="lang-javascript">oCommentsData.api.updateUser({
    pseudonym: &#39;my name&#39;,
    emailcomments: &#39;hourly&#39;,
    emailreplies: &#39;immediately&#39;,
    emaillikes: &#39;never&#39;
},
function (err, data) {
    if (err) {
        throw err;
    }

    // do something with the data
});</code></pre>
<h5 id="sample-response">Sample response</h5>
<p>Successful response:</p>
<pre><code class="lang-javascript">{
    status: &quot;ok&quot;
}</code></pre>
<p>Response with an error:</p>
<pre><code class="lang-javascript">{
    status: &quot;error&quot;,
    error: &quot;Error message.&quot;
}</code></pre>
<h3 id="api-getcomments">api.getComments</h3>
<p>Gets the comments of an article together with collection ID, max event ID (used in Livefyre&#39;s system when streaming new data) and authentication data.</p>
<h5 id="configuration">Configuration</h5>
<h6 id="mandatory-fields-">Mandatory fields:</h6>
<ul>
<li>articleId: ID of the article, any string</li>
<li>url: canonical URL of the page</li>
<li>title: Title of the page</li>
</ul>
<h5 id="example">Example</h5>
<pre><code class="lang-javascript">oCommentsData.api.getComments({
    articleId: &#39;art15123&#39;,
    url: &#39;http://example.com/article/art15123&#39;,
    title: &#39;Article title&#39;
}, function (err, data) {
    if (err) {
        throw err;
    }

    // do something with the data
});</code></pre>
<h5 id="sample-response">Sample response</h5>
<pre><code class="lang-javascript">{
    &quot;collection&quot;: {
        &quot;unclassified&quot;: false,
        &quot;collectionId&quot;: &quot;91440735&quot;,
        &quot;lastEvent&quot;: 1411541039265900,
        &quot;comments&quot;: [{
            &quot;parentId&quot;: &quot;&quot;,
            &quot;author&quot;: {
                &quot;displayName&quot;: &quot;roli main&quot;,
                &quot;tags&quot;: [&quot;FT&quot;],
                &quot;type&quot;: 1
            },
            &quot;content&quot;: &quot;&lt;p&gt;comment&lt;/p&gt;&quot;,
            &quot;timestamp&quot;: 1411541039,
            &quot;commentId&quot;: &quot;216743299&quot;,
            &quot;visibility&quot;: 1
        }],
        &quot;totalPages&quot;: &quot;6&quot;
    }
}</code></pre>
<h3 id="api-postcomment">api.postComment</h3>
<p>This is a method with which a comment can be posted to an article&#39;s collection.</p>
<h5 id="configuration">Configuration</h5>
<h6 id="mandatory-fields">Mandatory fields</h6>
<ul>
<li>collectionId: ID of the collection. It can be obtained using the getComments function.</li>
<li>commentBody: Content of the comment.</li>
</ul>
<pre><code class="lang-javascript">oCommentsData.api.postComment({
    collectionId: 1525234,
    commentBody: &quot;This is a comment&quot;
}, function (err, data) {
    if (err) {
        throw err;
    }

    // do something with the data
});</code></pre>
<h5 id="sample-response">Sample response</h5>
<p>Successful response:</p>
<pre><code class="lang-javascript">{
    &quot;success&quot;: true,
    &quot;status&quot;: &quot;ok&quot;,
    &quot;code&quot;: &quot;200&quot;,
    &quot;invalidSession&quot;: false,
    &quot;errorMessage&quot;: null,
    &quot;bodyHtml&quot;: &quot;&lt;p&gt;post comment&lt;/p&gt;&quot;,
    &quot;commentId&quot;: &quot;215819761&quot;,
    &quot;createdAt&quot;: 1411370210
}</code></pre>
<p>Response with an error:</p>
<pre><code class="lang-javascript">{
    &quot;success&quot;: false,
    &quot;status&quot;: null,
    &quot;code&quot;: null,
    &quot;invalidSession&quot;: false,
    &quot;errorMessage&quot;: &quot;As good as it may be, you can&#39;t post the same comment twice.&quot;,
    &quot;bodyHtml&quot;: null,
    &quot;commentId&quot;: null,
    &quot;createdAt&quot;: 0
}</code></pre>
<h3 id="api-deletecomment">api.deleteComment</h3>
<p>This is a method with which a comment can be posted to an article&#39;s collection.</p>
<h5 id="configuration">Configuration</h5>
<h6 id="mandatory-fields">Mandatory fields</h6>
<ul>
<li>collectionId: ID of the collection. It can be obtained using the getComments function.</li>
<li>commentId: ID of the comment.</li>
</ul>
<pre><code class="lang-javascript">oCommentsData.api.postComment({
    collectionId: 1525234,
    commentId: 16482
}, function (err, data) {
    if (err) {
        throw err;
    }

    // do something with the data
});</code></pre>
<h5 id="sample-response">Sample response</h5>
<p>Successful response:</p>
<pre><code class="lang-javascript">{
    &quot;success&quot;: true,
    &quot;invalidSession&quot;: false,
    &quot;errorMessage&quot;: null
}</code></pre>
<p>Response with an error:</p>
<pre><code class="lang-javascript">{
    &quot;success&quot;: false,
    &quot;invalidSession&quot;: false,
    &quot;errorMessage&quot;: &quot;You don&#39;t have permission to delete this comment.&quot;
}</code></pre>
</section>
        </div>
      </div>
    </div>
    <footer class="footer">
      <div class="container">
        <p>Documentation generated with<a href="https://github.com/FGRibreau/doxx">Doxx</a>created by<a href="https://twitter.com/FGRibreau" data-show-count="false" class="twitter-follow-button">Francois-Guillaume Ribreau</a></p>
        <p>Doxx is sponsored by<a href="http://bringr.net/?btt" title="Outil d'analyse des rÃ©seaux sociaux" class="bringr">Bringr</a>and<a href="https://redsmin.com/?btt" title="Full Redis GUI" class="redsmin">Redsmin</a></p>
        <p>Theme borrowed from Twitter Bootstrap</p>
      </div>
    </footer>
    <script src="http://platform.twitter.com/widgets.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
    <script src="http://leaverou.github.com/prefixfree/prefixfree.js"></script>
    <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-transition.js"></script>
    <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-scrollspy.js"></script>
    <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-dropdown.js"></script>
    <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-collapse.js"></script>
    <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-affix.js"></script>
    <script>
      /**
       * Prism: Lightweight, robust, elegant syntax highlighting
       * MIT license http://www.opensource.org/licenses/mit-license.php/
       * @author Lea Verou http://lea.verou.me
       */(function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=self.Prism={util:{type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){var n=t.util.type(e);switch(n){case"Object":var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=t.util.clone(e[i]));return r;case"Array":return e.slice()}return e}},languages:{extend:function(e,n){var r=t.util.clone(t.languages[e]);for(var i in n)r[i]=n[i];return r},insertBefore:function(e,n,r,i){i=i||t.languages;var s=i[e],o={};for(var u in s)if(s.hasOwnProperty(u)){if(u==n)for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);o[u]=s[u]}return i[e]=o},DFS:function(e,n){for(var r in e){n.call(e,r,e[r]);t.util.type(e)==="Object"&&t.languages.DFS(e[r],n)}}},highlightAll:function(e,n){var r=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code');for(var i=0,s;s=r[i++];)t.highlightElement(s,e===!0,n)},highlightElement:function(r,i,s){var o,u,a=r;while(a&&!e.test(a.className))a=a.parentNode;if(a){o=(a.className.match(e)||[,""])[1];u=t.languages[o]}if(!u)return;r.className=r.className.replace(e,"").replace(/\s+/g," ")+" language-"+o;a=r.parentNode;/pre/i.test(a.nodeName)&&(a.className=a.className.replace(e,"").replace(/\s+/g," ")+" language-"+o);var f=r.textContent;if(!f)return;f=f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00a0/g," ");var l={element:r,language:o,grammar:u,code:f};t.hooks.run("before-highlight",l);if(i&&self.Worker){var c=new Worker(t.filename);c.onmessage=function(e){l.highlightedCode=n.stringify(JSON.parse(e.data));l.element.innerHTML=l.highlightedCode;s&&s.call(l.element);t.hooks.run("after-highlight",l)};c.postMessage(JSON.stringify({language:l.language,code:l.code}))}else{l.highlightedCode=t.highlight(l.code,l.grammar);l.element.innerHTML=l.highlightedCode;s&&s.call(r);t.hooks.run("after-highlight",l)}},highlight:function(e,r){return n.stringify(t.tokenize(e,r))},tokenize:function(e,n){var r=t.Token,i=[e],s=n.rest;if(s){for(var o in s)n[o]=s[o];delete n.rest}e:for(var o in n){if(!n.hasOwnProperty(o)||!n[o])continue;var u=n[o],a=u.inside,f=!!u.lookbehind||0;u=u.pattern||u;for(var l=0;l<i.length;l++){var c=i[l];if(i.length>e.length)break e;if(c instanceof r)continue;u.lastIndex=0;var h=u.exec(c);if(h){f&&(f=h[1].length);var p=h.index-1+f,h=h[0].slice(f),d=h.length,v=p+d,m=c.slice(0,p+1),g=c.slice(v+1),y=[l,1];m&&y.push(m);var b=new r(o,a?t.tokenize(h,a):h);y.push(b);g&&y.push(g);Array.prototype.splice.apply(i,y)}}}return i},hooks:{all:{},add:function(e,n){var r=t.hooks.all;r[e]=r[e]||[];r[e].push(n)},run:function(e,n){var r=t.hooks.all[e];if(!r||!r.length)return;for(var i=0,s;s=r[i++];)s(n)}}},n=t.Token=function(e,t){this.type=e;this.content=t};n.stringify=function(e){if(typeof e=="string")return e;if(Object.prototype.toString.call(e)=="[object Array]"){for(var r=0;r<e.length;r++)e[r]=n.stringify(e[r]);return e.join("")}var i={type:e.type,content:n.stringify(e.content),tag:"span",classes:["token",e.type],attributes:{}};i.type=="comment"&&(i.attributes.spellcheck="true");t.hooks.run("wrap",i);var s="";for(var o in i.attributes)s+=o+'="'+(i.attributes[o]||"")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'" '+s+">"+i.content+"</"+i.tag+">"};if(!self.document){self.addEventListener("message",function(e){var n=JSON.parse(e.data),r=n.language,i=n.code;self.postMessage(JSON.stringify(t.tokenize(i,t.languages[r])));self.close()},!1);return}var r=document.getElementsByTagName("script");r=r[r.length-1];if(r){t.filename=r.src;document.addEventListener&&!r.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll)}})();;
      Prism.languages.markup={comment:/&lt;!--[\w\W]*?--(&gt;|&gt;)/g,prolog:/&lt;\?.+?\?&gt;/,doctype:/&lt;!DOCTYPE.+?&gt;/,cdata:/&lt;!\[CDATA\[[\w\W]+?]]&gt;/i,tag:{pattern:/&lt;\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|\w+))?\s*)*\/?&gt;/gi,inside:{tag:{pattern:/^&lt;\/?[\w:-]+/i,inside:{punctuation:/^&lt;\/?/,namespace:/^[\w-]+?:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,inside:{punctuation:/=|&gt;|"/g}},punctuation:/\/?&gt;/g,"attr-name":{pattern:/[\w:-]+/g,inside:{namespace:/^[\w-]+?:/}}}},entity:/&amp;#?[\da-z]{1,8};/gi};Prism.hooks.add("wrap",function(e){e.type==="entity"&&(e.attributes.title=e.content.replace(/&amp;/,"&"))});;
      Prism.languages.css={comment:/\/\*[\w\W]*?\*\//g,atrule:/@[\w-]+?(\s+[^;{]+)?(?=\s*{|\s*;)/gi,url:/url\((["']?).*?\1\)/gi,selector:/[^\{\}\s][^\{\}]*(?=\s*\{)/g,property:/(\b|\B)[a-z-]+(?=\s*:)/ig,string:/("|')(\\?.)*?\1/g,important:/\B!important\b/gi,ignore:/&(lt|gt|amp);/gi,punctuation:/[\{\};:]/g};Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{style:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/style(>|&gt;)/ig,inside:{tag:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)|(&lt;|<)\/style(>|&gt;)/ig,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css}}});;
      Prism.languages.clike={comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|\/\/.*?(\r?\n|$))/g,lookbehind:!0},string:/("|')(\\?.)*?\1/g,keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,number:/\b-?(0x)?\d*\.?[\da-f]+\b/g,operator:/[-+]{1,2}|!|=?&lt;|=?&gt;|={1,2}|(&amp;){1,2}|\|?\||\?|\*|\//g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g};;
      Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(var|let|if|else|while|do|for|return|in|instanceof|function|new|with|typeof|try|catch|finally|null|break|continue)\b/g,number:/\b(-?(0x)?\d*\.?[\da-f]+|NaN|-?Infinity)\b/g});Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}});Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/script(>|&gt;)/ig,inside:{tag:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)|(&lt;|<)\/script(>|&gt;)/ig,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript}}});;
      
    </script>
    <!-- App js-->
    <script>
      $(function(){
        var $window = $(window);
        $('.scrollspy .nav').affix({
          offset: {
            top: function () { return $window.width() <= 980 ? 480 : 400 }
          , bottom: 50
          }
        });
      })
    </script>
  </body>
</html>